<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receipt - Wide Format</title>
    <link rel="stylesheet" href="../css/pos_receipt_wide.css">
</head>
<body>
    <div class="wide-receipt">
        <!-- Grocery store style - wider format with columns -->
        <div class="receipt-header">
            <div class="store-logo">
                <h1 class="store-name">{{ supplier_name }}</h1>
                <p class="store-tagline">{{ store_tagline }}</p>
            </div>
            <div class="store-details">
                <p>{{ supplier_address }}</p>
                <p>{{ supplier_phone }}</p>
                {% if store_number %}
                <p>Store #{{ store_number }}</p>
                {% endif %}
            </div>
        </div>

        <div class="divider-double"></div>

        <!-- Transaction info in columns -->
        <div class="transaction-info">
            <div class="info-col">
                <p><strong>Receipt #:</strong> {{ invoice_number }}</p>
                <p><strong>Date:</strong> {{ invoice_date }}</p>
                <p><strong>Time:</strong> {{ transaction_time }}</p>
            </div>
            <div class="info-col">
                <p><strong>Register:</strong> {{ register_number }}</p>
                <p><strong>Cashier:</strong> {{ cashier_id }}</p>
                {% if customer_id %}
                <p><strong>Member:</strong> {{ customer_id }}</p>
                {% endif %}
            </div>
        </div>

        <div class="divider-double"></div>

        <!-- Items table with multiple columns -->
        <div class="items-section">
            <table class="items-table">
                <thead>
                    <tr>
                        <th class="col-description">ITEM DESCRIPTION</th>
                        <th class="col-upc">UPC</th>
                        <th class="col-qty">QTY</th>
                        <th class="col-price">PRICE</th>
                        <th class="col-total">TOTAL</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in line_items %}
                    <tr class="item-row">
                        <td class="item-desc">{{ item.description }}</td>
                        <td class="item-upc">{{ item.upc }}</td>
                        <td class="item-qty">{{ item.quantity }}</td>
                        <td class="item-price">{{ item.unit_price }}</td>
                        <td class="item-total">{{ item.total }}</td>
                    </tr>
                    {% if item.promotion %}
                    <tr class="promo-row">
                        <td colspan="4" class="promo-desc">
                            <span class="promo-icon">üè∑Ô∏è</span> {{ item.promotion }}
                        </td>
                        <td class="promo-discount">-{{ item.discount }}</td>
                    </tr>
                    {% endif %}
                    {% if item.rewards_earned %}
                    <tr class="rewards-row">
                        <td colspan="5" class="rewards-info">
                            <span class="rewards-icon">‚≠ê</span> Earned {{ item.rewards_earned }} rewards points on this item
                        </td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="divider-double"></div>

        <!-- Totals in right-aligned box -->
        <div class="totals-section">
            <div class="totals-box">
                <div class="total-row">
                    <span class="total-label">Subtotal:</span>
                    <span class="total-value">{{ subtotal }}</span>
                </div>
                {% if total_discount > 0 %}
                <div class="total-row savings-row">
                    <span class="total-label">Your Savings:</span>
                    <span class="total-value savings-value">-{{ total_discount }}</span>
                </div>
                {% endif %}
                <div class="total-row">
                    <span class="total-label">Tax ({{ tax_rate }}%):</span>
                    <span class="total-value">{{ tax_amount }}</span>
                </div>
                {% if tip_amount > 0 %}
                <div class="total-row">
                    <span class="total-label">Tip:</span>
                    <span class="total-value">{{ tip_amount }}</span>
                </div>
                {% endif %}
                <div class="total-row grand-total">
                    <span class="total-label">TOTAL:</span>
                    <span class="total-value">{{ total_amount }}</span>
                </div>
            </div>
        </div>

        <div class="divider-double"></div>

        <!-- Payment section -->
        <div class="payment-section">
            <h3 class="section-header">PAYMENT INFORMATION</h3>
            <div class="payment-details">
                <div class="payment-row">
                    <span class="payment-label">Method:</span>
                    <span class="payment-value">{{ payment_method }}</span>
                </div>
                {% if payment_method != "Cash" %}
                <div class="payment-row">
                    <span class="payment-label">Card:</span>
                    <span class="payment-value">{{ card_type }} ending {{ card_last_four }}</span>
                </div>
                {% if approval_code %}
                <div class="payment-row">
                    <span class="payment-label">Approval:</span>
                    <span class="payment-value">{{ approval_code }}</span>
                </div>
                {% endif %}
                {% else %}
                <div class="payment-row">
                    <span class="payment-label">Cash Tendered:</span>
                    <span class="payment-value">{{ cash_tendered }}</span>
                </div>
                <div class="payment-row">
                    <span class="payment-label">Change:</span>
                    <span class="payment-value">{{ change_amount }}</span>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Rewards program -->
        {% if loyalty_points_earned or loyalty_points_balance %}
        <div class="divider-single"></div>
        <div class="rewards-section">
            <h3 class="section-header">REWARDS PROGRAM</h3>
            <div class="rewards-summary">
                {% if loyalty_points_earned %}
                <div class="rewards-item">
                    <span class="rewards-label">Points Earned Today:</span>
                    <span class="rewards-value">{{ loyalty_points_earned }}</span>
                </div>
                {% endif %}
                {% if loyalty_points_balance %}
                <div class="rewards-item">
                    <span class="rewards-label">Total Points Balance:</span>
                    <span class="rewards-value">{{ loyalty_points_balance }}</span>
                </div>
                {% endif %}
                {% if loyalty_rewards_available %}
                <div class="rewards-banner">
                    üéÅ You have {{ loyalty_rewards_available }} reward(s) available to use!
                </div>
                {% endif %}
            </div>
        </div>
        {% endif %}

        <div class="divider-double"></div>

        <!-- Footer sections -->
        <div class="footer-sections">
            <div class="return-policy">
                <h4>Return Policy</h4>
                <p>{{ return_policy }}</p>
            </div>

            {% if survey_url %}
            <div class="survey-section">
                <h4>Share Your Feedback!</h4>
                <p>Visit: {{ survey_url }}</p>
                <p>Survey Code: <strong>{{ survey_code }}</strong></p>
            </div>
            {% endif %}

            {% if barcode_value %}
            <div class="barcode-section">
                <div class="barcode-placeholder">
                    <div class="barcode-lines">|||| |||| |||| |||| ||||</div>
                </div>
                <p class="barcode-number">{{ barcode_value }}</p>
            </div>
            {% endif %}
        </div>

        <div class="thank-you">
            <p class="thank-you-message">{{ footer_message }}</p>
            <p class="visit-again">Thank You For Shopping With Us!</p>
        </div>
    </div>
</body>
</html>
